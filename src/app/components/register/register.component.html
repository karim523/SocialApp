<section class="mt-6">
  <p class="text-center text-5xl text-blue-600">Linked Posts</p>
  <div
    class="lg:w-1/2 mx-auto p-2 rounded-md mt-5 bg-white border border-gray-200  shadow sm:p-6 md:p-8 dark:bg-gray-800 dark:border-gray-700">
    <form [formGroup]="registerForm" (ngSubmit)="registerSubmit()" class="space-y-6">
      <p class="text-xl font-medium text-blue-600 dark:text-white">Register Now</p>
      <div>
        <input type="text" id="first_name" formControlName="name"
          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
          placeholder="Type your name..." [ngClass]="{
            'border border-green-500 bg-green-100':!registerForm.get('name')?.errors &&
            (registerForm.get('name')?.touched||registerForm.get('name')?.dirty ),
            'border border-red-500 bg-red-100':registerForm.get('name')?.errors &&
            (registerForm.get('name')?.touched||registerForm.get('name')?.dirty ),
          }" />
        @if( registerForm.get('name')?.errors &&
        (registerForm.get('name')?.touched||registerForm.get('name')?.dirty )) {
        <div class="alert alert-danger w-full bg-red-100 border border-red-400 text-red-700 p-4 rounded-md">
          @if (registerForm.get('name')?.getError('required')) {
          <P class="m-0">Name is required</P>
          } @else if (registerForm.get('name')?.getError('minlength')) {
          <P class="m-0">Name Should be more than or equal 3 chars</P>
          } @else if (registerForm.get('name')?.getError('maxlength')) {
          <P class="m-0">Name Should be less than or equal 20 chars</P>
          }
        </div>
        }
      </div>
      <div>
        <input type="email" name="email" id="email" formControlName="email"
          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white"
          placeholder="Type your email...." [ngClass]="{
            ' border-green-500':!registerForm.get('email')?.errors &&
            (registerForm.get('email')?.touched||registerForm.get('email')?.dirty ),
            ' border-red-500':registerForm.get('email')?.errors &&
            (registerForm.get('email')?.touched||registerForm.get('email')?.dirty ),
          }" />
        @if( registerForm.get('email')?.errors &&
        (registerForm.get('email')?.touched||registerForm.get('email')?.dirty )){
        <div class="alert alert-danger w-full bg-red-100 border border-red-400 text-red-700 p-4 rounded-md">
          @if (registerForm.get('email')?.getError('required')) {
          <P class="m-0">Email is required</P>} @else if
          (registerForm.get('email')?.getError('email')) {
          <P class="m-0">Enter Valid Email </P> }
        </div>
        }
      </div>
      <div>
        <input type="password" name="password" id="password" placeholder="Type your password" formControlName="password"
          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white"
          [ngClass]="{
            ' border-green-500':!registerForm.get('password')?.errors &&
            (registerForm.get('password')?.touched||registerForm.get('password')?.dirty ),
            ' border-red-500':registerForm.get('password')?.errors &&
            (registerForm.get('password')?.touched||registerForm.get('password')?.dirty ),
          }" />
        @if( registerForm.get('password')?.errors &&
        (registerForm.get('password')?.touched||registerForm.get('password')?.dirty
        )){
        <div class="alert alert-danger w-full bg-red-100 border border-red-400 text-red-700 p-4 rounded-md">
          @if (registerForm.get('password')?.getError('required')) {
          <P class="m-0">password is required</P>} @else if
          (registerForm.get('password')?.getError('pattern')) {
          <ul>
            must be
            <li>Start with a letter (either uppercase or lowercase).</li>
            <li>Be between 6 and 9 characters in total.</li>
            <li>Can only contain letters (A-Z or a-z) and numbers (0-9)</li>
            <li>At least one special character (such as #, !, &#64;, $, %, ^, &, *, etc.).</li>

          </ul>

          }
        </div>
        }
      </div>
      <div>
        <input type="password" id="confirm_password" formControlName="rePassword"
          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
          placeholder="confirm password" [ngClass]="{
            ' border-green-500':!registerForm.get('rePassword')?.errors &&
            (registerForm.get('rePassword')?.touched||registerForm.get('rePassword')?.dirty ),
            ' border-red-500':registerForm.get('rePassword')?.errors &&
            (registerForm.get('rePassword')?.touched||registerForm.get('rePassword')?.dirty ),
          }" />
        @if (registerForm.getError('mismatch') &&
        (registerForm.get('rePassword')?.touched||registerForm.get('rePassword')?.dirty
        )){
        <p class="alert alert-danger w-100">Password confirmation is incorrect</p>
        }

      </div>
      <div>
        <input type="date" id="date" formControlName="dateOfBirth"
          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
          required />

      </div>
      <div class="flex items-center  ">
        <div class="flex items-center me-4">
          <input id="inline-radio" type="radio" formControlName="gender" value="male" name="gender"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
          <label for="inline-radio" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">male</label>
        </div>

        <div class="flex items-center me-4">
          <input id="inline-2-radio" formControlName="gender" type="radio" value="female" name="gender"
            class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
          <label for="inline-2-radio" class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">female</label>
        </div>

      </div>
      <div class="flex items-start content-between">
        <button type="submit"
          class="text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 shadow-lg shadow-blue-500/50 dark:shadow-lg dark:shadow-blue-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 ">signup
          @if (isLoading) {<span><i class="fas fa-spin fa-spinner"></i></span>}</button>
        @if (msgError) {
        <p class="alert alert-danger w-full bg-red-100 border border-red-400 text-red-700 p-4 rounded-md">{{ msgError }}
        </p>
        } @if (msgSucces) {
        <p class="text-main">Success</p>
        }
      </div>

    </form>
  </div>

</section>