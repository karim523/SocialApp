import './polyfills.server.mjs';
import{a,b as E,d as H,e as N,f as j,h as u,j as D,l as M,m as P,q as T}from"./chunk-TXLJO677.mjs";import{$ as b,Fb as $,J as f,La as p,Nb as F,O as g,Oa as y,P as h,Pa as S,Qa as n,Ra as r,Sa as s,T as C,Ta as _,Va as m,Wa as d,Xa as w,aa as v,ab as I,cb as k,db as G,qa as x,ta as i}from"./chunk-C7DZA5OG.mjs";import"./chunk-VVCT4QZE.mjs";var U=(()=>{class t{constructor(e){this._HttpClient=e}creatComment(e){return this._HttpClient.post(`${a.baseUrl}comments`,e)}getPostComment(e){return this._HttpClient.get(`${a.baseUrl}posts/${e}/comments`)}updatePostComment(e,o){return this._HttpClient.put(`${a.baseUrl}comments/${e}`,o)}deletComment(e){return this._HttpClient.delete(`${a.baseUrl}comments/${e}`)}static{this.\u0275fac=function(o){return new(o||t)(g(F))}}static{this.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var A=(t,l)=>l._id;function B(t,l){if(t&1&&(n(0,"div",2)(1,"div",11),s(2,"img",12),n(3,"h3",13),m(4),r(),n(5,"span",14),m(6),k(7,"date"),r()(),n(8,"p",15),m(9),r()()),t&2){let e=l.$implicit;i(2),p("src",e.commentCreator.photo,x),i(2),d(e.commentCreator.name),i(2),d(G(7,4,e.createdAt)),i(3),w(" ",e.content," ")}}var X=(()=>{class t{constructor(){this._CommentsService=h(U),this.commentslist=[]}ngOnInit(){this.commentGroup=new j({content:new u(null),post:new u(this.postId)}),this._CommentsService.getPostComment(this.postId).subscribe({next:e=>{console.log(`${this.postId}`,e),this.commentslist=e.comments.reverse()}})}sendComment(){this._CommentsService.creatComment(this.commentGroup.value).subscribe({next:e=>{console.log(e),this.commentslist=e.comments.reverse(),this.commentGroup.get("content")?.reset()}})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=C({type:t,selectors:[["app-comment"]],inputs:{postId:"postId"},standalone:!0,features:[I],decls:14,vars:1,consts:[[1,"flex","flex-col","gap-4"],[1,"comments"],[1,"bg-gray-200","p-3","rounded-md","border","mt-3"],[3,"ngSubmit","formGroup"],["for","chat",1,"sr-only"],[1,"flex","items-center","px-3","py-2","rounded-lg","bg-gray-50","dark:bg-gray-700"],["formControlName","content","id","chat","rows","1","placeholder","Your comment...",1,"block","mx-4","p-2.5","w-full","text-sm","text-gray-900","bg-white","rounded-lg","border","border-gray-300","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-800","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["type","submit",1,"inline-flex","justify-center","p-2","text-blue-600","rounded-full","cursor-pointer","hover:bg-blue-100","dark:text-blue-500","dark:hover:bg-gray-600"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 18 20",1,"w-5","h-5","rotate-90","rtl:-rotate-90"],["d","m17.914 18.594-8-18a1 1 0 0 0-1.828 0l-8 18a1 1 0 0 0 1.157 1.376L8 18.281V9a1 1 0 0 1 2 0v9.281l6.758 1.689a1 1 0 0 0 1.156-1.376Z"],[1,"sr-only"],[1,"flex","items-center","gap-3"],["alt","",1,"w-10","h-10","rounded-full",3,"src"],[1,"font-medium"],[1,"text-gray-500","font-light"],[1,"text-gray-600","mt-4"]],template:function(o,c){o&1&&(n(0,"section",0)(1,"div",1),y(2,B,10,6,"div",2,A),r(),n(4,"form",3),_("ngSubmit",function(){return c.sendComment()}),n(5,"label",4),m(6,"Your comment"),r(),n(7,"div",5),s(8,"textarea",6),n(9,"button",7),b(),n(10,"svg",8),s(11,"path",9),r(),v(),n(12,"span",10),m(13,"Send comment"),r()()()()()),o&2&&(i(2),S(c.commentslist),i(2),p("formGroup",c.commentGroup))},dependencies:[$,T,D,E,H,N,M,P],styles:[".comments[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}"]})}}return t})();export{X as CommentComponent};
